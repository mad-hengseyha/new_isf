function gform_form_editor_can_field_be_added_currency(e,c){return"currency"==c&&GetFieldsByType(["currency"]).length>0&&(alert(currency_field_vars.multiple_fields_not_allowed),e=!1),e}function gform_load_field_settings_currency(e,c,r){var i=GetInputType(c);if(c.displayAllCurrencies?(jQuery("#gfield_currency_all").prop("checked",!0),SetDefaultCurrencyChoices(c),jQuery("#gfield_settings_currency_container").hide()):(jQuery("#gfield_currency_select").prop("checked",!0),jQuery(".gfield_currency_checkbox").each(function(){if(c.choices)for(var e=0;e<c.choices.length;e++)if(this.value==c.choices[e].value)return void(this.checked=!0);this.checked=!1}),jQuery("#gfield_settings_currency_container").show()),"currency"===c.type&&("select"===i||"radio"===i)){var t=fieldSettings[c.inputType],n=fieldSettings.currency;jQuery(t).hide(),jQuery(n).show()}jQuery("#currency_field_type").val(c.inputType)}function ToggleCurrency(e){var c=e?"":"slow";jQuery("#gfield_currency_all").is(":checked")?(jQuery("#gfield_settings_currency_container").hide(c),SetFieldProperty("displayAllCurrencies",!0),SetDefaultCurrencyChoices(GetSelectedField()),ResetSelectedCurrencies()):(jQuery("#gfield_settings_currency_container").show(c),SetFieldProperty("displayAllCurrencies",!1),SetFieldProperty("choices",new Array))}function SetSelectedCurrencies(){var e=GetSelectedField();e.choices=new Array,jQuery(".gfield_currency_checkbox").each(function(){this.checked&&(choice=new Choice(this.name,this.value),form.currency===this.value&&(choice.isSelected=!0),e.choices.push(choice))}),e.choices.sort(function(e,c){return e.text.toLowerCase()>c.text.toLowerCase()})}function ResetSelectedCurrencies(){jQuery(".gfield_currency_checkbox").each(function(){this.checked=!1})}function SetDefaultValues_radio(e){return e.displayAllCurrencies=!0,ResetSelectedCurrencies(),SetDefaultCurrencyChoices(e)}function SetDefaultValues_select(e){return e.displayAllCurrencies=!0,ResetSelectedCurrencies(),SetDefaultCurrencyChoices(e)}function SetDefaultCurrencyChoices(e){return"currency"==e.type&&(e.choices=new Array,currency_field_vars.choices.forEach(function(c){choice=new Choice(c.text,c.value),!0===c.isSelected&&(choice.isSelected=!0),e.choices.push(choice)})),e}function ValidateCurrencyField(e){if(jQuery(this).hasClass("field_hover")){var c=jQuery(".field_hover")[0].id.substr(6),r=GetFieldById(c);"currency"==r.type&&(r.displayAllCurrencies||0!=r.choices.length||alert(currency_field_vars.no_currencies_selected))}}function gform_field_added_currency(e,c,r){jQuery("#field_"+r.id).on("click",ValidateCurrencyField)}jQuery(document).ready(function(e){gform.addFilter("gform_form_editor_can_field_be_added",gform_form_editor_can_field_be_added_currency),e(document).on("gform_load_field_settings",gform_load_field_settings_currency),e(".gfield").on("click",ValidateCurrencyField),e(document).on("gform_field_added",gform_field_added_currency)});